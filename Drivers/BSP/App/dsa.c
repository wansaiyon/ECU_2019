/*
********************************************************************************
  *Copyright (C), 2019, CunXin_ All Rights Reserved
  *文 件 名: dsa.c
  *说    明: 
  *版    本: V000B00D00
  *创建日期: 2019/03/12		02:16:05
  *创 建 人: wansaiyon
  *修改信息：  
================================================================================
  *修 改 人    		  修改日期       	  修改内容 
  *<作者/修改者>      <YYYY/MM/DD>		  <修改内容>
********************************************************************************
*/

#define DSA_GLOBALS
#include "Include.h"


/**********************************************************************************/
/*      私有变量声明              	                                		      */
/**********************************************************************************/



/**********************************************************************************/
/*      私有函数声明              	                                              */
/**********************************************************************************/
static void vSwap(uint32_t *a,uint32_t *b);




/**********************************************************************************/
/*      私有函数实现              	                                              */
/**********************************************************************************/
static void vSwap(uint32_t *a,uint32_t *b)
{
	uint32_t temp;
	temp=*a;
	*a=*b;
	*b=temp;
}



/**********************************************************************************/
/*      公有函数实现	             	                                              */
/**********************************************************************************/

/******************************************************************************
* @函数名称：sum
* @函数功能：数组求和算法（二分递归版，入口为sum(A, 0, n - 1)）
* @输入参数：
*				   
* @输出参数：
* @算法思路：O(hi - lo + 1)，线性正比于区间的长度
* @使用资源：
* @注意事项：
******************************************************************************/
uint32_t ulSum(uint32_t A[],uint8_t lo,uint8_t hi)
{ 
	if ( lo == hi ) 
		return A[lo];
	else 
	{ 
		int mi = ( lo + hi ) >> 1; 
		return ulSum ( A, lo, mi ) + ulSum ( A, mi + 1, hi ); 
	}
} 

/******************************************************************************
* @函数名称：BubbleSort
* @函数功能：起泡排序算法（版本2）：0 <= n
* @输入参数：
*				   
* @输出参数：
* @算法思路：O(hi - lo + 1)，线性正比于区间的长度
* @使用资源：
* @注意事项：
******************************************************************************/
void vBubbleSort(uint32_t A[],uint8_t n)
{ 
   for ( int m; 1 < n; n = m ) 
	 { 
      for ( int i = m = 1; i < n; i++ ) 
		  { 
         if ( A[i-1] > A[i] ) 
				 { 
            vSwap (&A[i-1], &A[i]);
            m = i;
         }
      }
   }
} 

/******************************************************************************
* @函数名称：DataAnalysis
* @函数功能f求dataIn的均值，最大值，最小值，0元素个数，方差
* @输入参数：
*						dataIn:数据指针
						len:数据长度
*           dataOut:返回数据分析结果
								dataOut[0]:均值
								dataOut[1]:最大值
								dataOut[2]:最小值
								dataOut[3]:0元素个数
								dataOut[4]:方差
* @输出参数：
* @算法思路：O(hi - lo + 1)，线性正比于区间的长度
* @使用资源：
* @注意事项：
******************************************************************************/	
void vDataAnalysis(uint32_t *dataIn,uint8_t len,float *dataOut)
{
	dataOut[0]=ulSum(dataIn,0,len-1)/len;
	vBubbleSort(dataIn,len);
	dataOut[1]=dataIn[0];
	dataOut[2]=dataIn[len-1];
}






/*****************************************End of dsa.c*****************************************/
